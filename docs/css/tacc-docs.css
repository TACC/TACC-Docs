/* Styles specific to TACC-Docs */
/* NOTE: Some of this could be migrated to core-styles.docs.css */

@layer project {





/* CORE STYLES */
/* https://github.com/TACC/Core-Styles/blob/main/src/lib/_imports/core-styles.base.css */



/* To increase global font size */
body {
  font-size: var(--global-font-size--large); /* overwrite core-styles.base */
}
p {
  font-size: inherit; /* overwrite theme.css */
}
table {
  font-size: var(--global-font-size--large); /* overwrite core-styles.base */
}



/* To not use link style for a header link */
/* TODO: Create a link icon that:
         - appears on hover over heading
         - turns link color on hover over icon
         - has TODO comment that says to migrate it to Core-Styles */
:is(h1, h2, h3, h4, h5, h6) a {
  color: inherit;
}





/* SIDE NAV */
/* https://github.com/mkdocs/mkdocs/blob/1.4.2/mkdocs/themes/readthedocs/css/theme.css */



/* To remove decresing font size in nav */

.wy-menu-vertical li.toctree-l3,
.wy-menu-vertical li.toctree-l4 {
  font-size: unset;
}
.wy-menu-vertical li.toctree-l1 > a {
  font-size: unset;
}
.wy-menu-vertical a:not(li.toctree-l1 > *) {
  font-size: var(--global-font-size--medium);
}
.wy-menu-vertical p.caption {
  text-transform: unset;
  font-size: unset;
}



/* Re-color navigation */

.wy-nav-side {
  color: unset;
  background: unset;
  border-right: var(--global-border-width--normal) solid var(--global-color-primary--dark);
}
.wy-menu-vertical * {
  color: unset;
}
.wy-menu-vertical a:hover {
  background: #e3e3e3; /* copied from .wy-menu-vertical li.current */;
}
.wy-menu-vertical li.current {
  background: unset;
}
.wy-menu-vertical li.current a {
  border-right: unset;
}
.wy-menu-vertical li.toctree-l1.current > a {
  border-bottom: unset;
  border-top: unset;
}
.wy-menu-vertical li.toctree-l2.current > a,
.wy-menu-vertical li.toctree-l2.current li.toctree-l3 > a {
  background: unset;
}
.wy-menu-vertical li.toctree-l3.current > a,
.wy-menu-vertical li.toctree-l3.current li.toctree-l4 > a {
  background: unset;
}
/* FAQ: The `:not(.current)` (added by TACC) adds clarity and specificity */
.wy-menu-vertical a:not(.current)
/* Do not use (but show for reference) redundant selectors */
/* FAQ: The selectors are redundant because of @layer project specificity *//*
.wy-menu-vertical li.current a
.wy-menu-vertical li ul li a
*/ {
  color: var(--global-color-primary--x-dark);
  font-weight: var(--medium);
}
.wy-menu-vertical a.current {
  color: var(--global-color-primary--xxx-dark);
  font-weight: var(--bold);
}



/* To separate sections of navigation */

.wy-menu-vertical p.caption:not(:first-child) {
  color: var(--global-color-primary--xxx-dark);
  border-top: var(--global-border-width--normal) solid var(--global-color-primary--dark);
  margin-top: 20px; /* NOTE: dsign is 18.75px */
  padding-top: 20px; /* NOTE: dsign is 19.5px */
}



/* To adapt nav layout to design */

.wy-menu-vertical {
  --link-pad-vert: 0.375em; /* NOTE: design is 25px */
  --link-pad-horz: 2em; /* NOTE: design is ??? */

  padding-left: 25px; /* NOTE: design is 24.5px */
  padding-right: 25px; /* NOTE: design is 11.5px */
  padding-bottom: 25px; /* NOTE: developer addition */
}
.wy-menu-vertical a,
/* (separate ruleset in `theme.css`) */
.wy-menu-vertical li.current > a,
.wy-menu-vertical li.on a,
/* (separate ruleset in `theme.css`) */
.wy-menu-vertical li.current a {
  padding: var(--link-pad-vert) var(--link-pad-horz); /* overwrite theme.css */
}
.wy-menu-vertical li.on ul,
.wy-menu-vertical li.current ul {
  padding-left: 25px;
  padding-block: 10px;
}
/* .wy-menu-vertical header, *//* NOTE: not seen in markup yet */
.wy-menu-vertical p.caption {
  height: unset; /* undo theme.css */
  line-height: unset; /* undo theme.css */
  margin: 0 0 15px; /* NOTE: design is 13px */
  padding-left: var(--link-pad-horz);
}



/* To style open/close buttons */
/* To make whole link clickable, not just button */
/* To prevent open/close buttons dynamic arrival from moving text */

.wy-menu-vertical li a {
  --button-width: 1ch; /* estimate, based on icon (e.g. ▾, ▸) */
  --button-buffer: 0.5em;
  --button-space: calc( var(--button-width) + var(--button-buffer) );

  position: relative; /* support `position: absolute` child */
}
.wy-menu-vertical li a button.toctree-expand {
  margin-left: unset; /* undo theme.css */

  /* To expand button over entire link */
  position: absolute;
  top: 0;
  left: 0;
  padding: var(--link-pad-vert) var(--link-pad-horz);
  width: 100%;
  text-align: left; /* to prevent width: 100% from moving ::before to center */
}
/* To make space for button which is on top of link text */
.wy-menu-vertical li.current a /* before opened or closed */,
.wy-menu-vertical li[aria-expanded] /* after opened or closed */ a {
  padding-left: calc( var(--link-pad-horz) + var(--button-space) );
}
@supports selector(:has(*)) {
  /* Overwrite edge cases */
  /* FAQ: Edge case of link to page that has no headings nor child pages */
  .wy-menu-vertical li.current a:not(:has(button.toctree-expand)) {
    padding-left: var(--link-pad-horz);
  }
}



/* To hide sidebar bottom "« Previous" and "Next »" */

/* NOTE: This also hides repo link, but that already exists on every page */
.rst-versions {
  display: none;
}
/* Remove extra spce for `.rst-versions` */
.wy-nav-side {
  padding-bottom: unset; /* undo theme_extra.css and theme.css */
}



/* To adapt search to design */

.wy-side-nav-search {
  padding: 40px; /* NOTE: design is 38px 38px 30px 37px */
  margin-bottom: unset; /* undo theme.css */
  background-color: unset; /* undo theme.css */
}
.wy-side-nav-search .icon-home {
  display: none;
}
.wy-side-nav-search input[type=search] /* TACC */,
.wy-side-nav-search input[type=text] /* orignal */ {
  width: unset; /* undo theme.css *//* .wy-form does this via display: grid */
  border: var(--global-border-width--normal) solid var(--global-color-primary--light);
  border-radius: 5px;
  font-size: unset; /* undo theme.css */
  box-shadow: unset; /* undo theme.css */
  transition: unset; /* undo theme.css */
}

.wy-form {
  display: grid;
}



/* To change icons */

.wy-menu-vertical li button.toctree-expand:before {
  content: "\f0da";
}
.wy-menu-vertical li.current > a button.toctree-expand::before,
.wy-menu-vertical li.on a button.toctree-expand::before {
  content: "\f0d7";
}





/* BREADCRUMBS */

/* To hide dangling separator */
/* The `.wy-breadcrumbs-aside` is where repository links would show */
/* https://github.com/mkdocs/mkdocs/blob/1.4.2/mkdocs/themes/readthedocs/breadcrumbs.html#L14-L30 */
.rst-content [role="navigation"] li.wy-breadcrumbs-aside {
  float: right;
}
.rst-content [role="navigation"] li.wy-breadcrumbs-aside::before {
  content: unset;
}

/* To hide the <hr> from ReadTheDocs theme markup */
.rst-content [role="navigation"] hr {
  display: none;
}

/* To hide the ≫ from ReadTheDocs theme markup */
.rst-content [role="navigation"] li::before {
  margin-left: -1.25ch;
  background-color: var(--global-color-primary--xx-light);
}

/* To hide link to home */
/* FAQ: The link is not in design (cuz it is redundant cuz side nav has link) */
.rst-content [role="navigation"] li:first-child {
  display: none;
}
.rst-content [role="navigation"] li:nth-child(2)::before {
  content: unset;
}

/* To bold last child */
/* FAQ: The core-styles.docs.css bolds :last-child, but that does not work here,
        because last list item is .wy-breadcrumbs-aside (used for repo links) */
.rst-content [role="navigation"] li:nth-last-child(2) {
  font-weight: var(--bold);
}





/* CONTENT */
/* https://github.com/mkdocs/mkdocs/blob/1.4.2/mkdocs/themes/readthedocs/css/theme.css */



/* To increase content width */
.wy-nav-content {
  max-width: 1200px;
}



/* To use browser margin-top for headings */
h1, h2, h3, h4, h5, h6 {
  margin-top: revert;
}



/* To remove two-tone background */
@media screen and (min-width: 1100px) {
  .wy-nav-content-wrap {
    background: #fcfcfc; /* mimic theme.css non-media query background */
  }
}



/* To add space between messages & messages and messages & content */
.admonition {
  margin-block: 1em;
}



/* To prevent figure image overflow */
.rst-content figure {
  max-width: 100%; /* mimics theme.css `.rst-content img` */
}



/* To add minimal hover state for <details> */
/* TODO: Remove this after COr-Styles are loaded (task/tup-297-styles) */
details > summary {
  cursor: pointer;
}



/* For edge-case headings */
:is(h1, h2, h3, h4, h5, h6) > small,
.understate:is(h1, h2, h3, h4, h5, h6) {
    font-weight: normal;
    margin-block: 0;
}
details > summary > :is(h1, h2, h3, h4, h5, h6) {
    display: inline-block;
}





/* TUP-CMS */
/* ./tup-cms.css */



/* To add border around figures */
/* FAQ: The figure border does not wrap the caption, so both need borders */
/* FAQ: The figcaption is styled as table caption by core-styles */
/* https://github.com/TACC/Core-Styles/blob/dd2bbb0/src/lib/_imports/elements/html-elements.cms.css#L97-L100 */
figure,
figcaption {
  --pad: var(--buffer-top);

  border: var(--global-border--normal);
  padding-inline: var(--pad);
}
figure {
  border-bottom: none;
  padding-block: var(--pad) 0;
}
figcaption {
  border-top: none;
  padding-bottom: var(--pad);

  /* To move CMS margin-top to padding-top */
  margin-top: unset;
  padding-top: var(--buffer-top);
}





/* FOOTER */

.rst-content footer {
  margin-top: 2em;
}



}





/* OVERRIDE ANONYMOUS STYLES */
/* To override anonymous (non-layered) styles e.g. highlightjs */



/* To define borrowed and changed highlightjs colors */
:root {
  --hljs-color--code-text: #545454; /* mimics ally-light.css */
  --hljs-color--code-bkgd: var(--global-color-primary--x-light);
}
/* To overwrite highlightjs background */
.hljs {
  background: var(--hljs-color--code-bkgd);
}
/* To replicate highlightjs (hljs) styles on loose TACC-Docs classes */
/* FAQ: "Loose" classes being those that are not coupled with <code> */
/* CAVEAT: The `:has()` syntax is not supported in Firefox browser */
:is(.cmd-line, .job-script):not(:has(code)) {
    padding: 1em;
    overflow: auto;

    color: var(--hljs-color--code-text);
    background: var(--hljs-color--code-bkgd);
    border: var(--global-border-width--normal) solid var(--global-color-primary--light); /* mimic core-styles.docs.css */
}
/* To distinguish code block backgrounds */
:root {
  --global-color-accent--xx-light: #FAF4FF;
}
.job-script code,
.job-script:not(:has(code)) {
  background: var(--global-color-accent--xx-light);
}




